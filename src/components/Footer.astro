---
import type {HTMLAttributes} from 'astro/types';
import ExternalLink from './ExternalLink.astro';
import {SOCIAL_LINKS} from '../data/profile';

/**
 * Footer component with social links and copyright notice
 * Provides persistent access to contact links at page bottom
 *
 * @example
 * ```astro
 * <Footer />
 * ```
 *
 * @example
 * ```astro
 * <Footer class="mt-auto" />
 * ```
 */
interface Props extends HTMLAttributes<'footer'> {}

const {class: className, ...attrs} = Astro.props;

const currentYear = new Date().getFullYear();
---

<footer
  data-component="footer"
  class:list={[
    'bg-surface dark:bg-surface-dark',
    'border-t border-border dark:border-border-dark',
    className,
  ]}
  {...attrs}
>
  <div class="container-custom py-8 md:py-12">
    <div
      class="flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8"
    >
      <!-- Social Links -->
      <nav aria-label="Social links" class="flex items-center gap-4">
        {
          SOCIAL_LINKS.map((link) => (
            <ExternalLink
              href={link.href}
              variant="text"
              size="sm"
              ariaLabel={link.ariaLabel}
              class="link-underline-gradient min-h-11 min-w-11 px-3 py-3 text-body flex items-center justify-center"
              data-testid={`footer-${link.label.toLowerCase()}-link`}
            >
              {link.label}
            </ExternalLink>
          ))
        }
      </nav>

      <!-- Copyright -->
      <p class="text-caption">
        &copy; {currentYear} Cris Benge
      </p>
    </div>
  </div>
</footer>
