# Epic 2 Retrospective: Project Portfolio Experience

**Date:** 2026-01-04
**Epic:** Epic 2 - Project Portfolio Experience
**Status:** Complete

---

## Epic Completion Summary

| Metric | Value |
|--------|-------|
| **Stories Completed** | 3/3 (100%) |
| **Unit Tests** | 180 passing |
| **E2E Tests** | 261 passing |
| **Total Tests** | 441 |
| **Reviews Passed** | All stories passed adversarial code review |
| **Completion Date** | 2026-01-04 |

### Stories Delivered

| Story | Title | Review Outcome |
|-------|-------|----------------|
| 2-1 | Project Card Components | APPROVED (1 HIGH, 3 MEDIUM fixed) |
| 2-2 | Project Gallery Page | APPROVED (2 HIGH, 2 MEDIUM, 1 LOW fixed) |
| 2-3 | Project Detail Page | Completed during 2-2 review |

### Components Created

- `ProjectTag.astro` - Tag component with 4 color variants (leadership/blue, technical/green, winner/amber, research/purple)
- `FeaturedProjectCard.astro` - Large project card with 16:9 image, hover lift, GitHub overlay
- `SecondaryProjectCard.astro` - Compact horizontal card with square thumbnail
- `SectionHeading.astro` - Reusable section heading component
- `src/pages/projects/index.astro` - Projects gallery page
- `src/pages/projects/[slug].astro` - Dynamic project detail page
- `src/scripts/scroll-reveal.ts` - IntersectionObserver scroll animation

---

## What Went Well

### 1. Epic 1 Action Items Successfully Applied

All 4 action items from Epic 1 retrospective were applied in Epic 2:

| Action Item | Evidence |
|-------------|----------|
| Run contrast checker early | Zero color contrast issues in Epic 2 |
| Always use reduced motion in E2E tests | All tests include `page.emulateMedia({ reducedMotion: 'reduce' })` |
| Use Tailwind preset values (`min-h-11`) | Correctly used throughout, no touch target issues |
| Add `tabindex="-1"` to hidden focusable children | No accessibility violations in hidden elements |

### 2. Adversarial Code Review Caught Critical Issue

Story 2-2 review discovered that project cards linked to `/projects/{slug}` pages that didn't exist, causing 404 errors. The reviewer created Story 2-3's deliverable (project detail page) during the review process - demonstrating the high value of adversarial review.

### 3. Significant Test Coverage Increase

- Epic 1 ended with: 88 unit tests, 186 E2E tests (274 total)
- Epic 2 ended with: 180 unit tests, 261 E2E tests (441 total)
- **Increase:** 92 unit tests, 75 E2E tests (167 new tests)

### 4. Reusable Components Created

- `SectionHeading` component created for Epic 2, reusable in Epic 3+
- Card hover/focus patterns established and documented
- Scroll-reveal animation system ready for any page

### 5. Triple-Threat Tag System

Visual categorization system working well:
- Leadership = blue tint
- Technical = green tint
- Winner = amber tint
- Research = purple tint

---

## What Didn't Go Well / Lessons Learned

### 1. Status Updates Required Manual Reminders (HIGH PRIORITY)

**Issue:** After completing dev-story and code-review workflows, the team did not automatically update `sprint-status.yaml` and `bmm-workflow-status.yaml`. User had to manually remind the team after each step.

**Impact:** Cognitive overhead for project lead, stale tracking data

**Resolution:** Status updates must be treated as part of Definition of Done for every workflow. Automatic, not manual.

**Lesson:** **Update tracking files immediately after workflow completion - user should never have to ask twice.**

### 2. Missing Integration Validation

**Issue:** Card components in Story 2-1 linked to `/projects/{slug}` pages that didn't exist. Discovered in Story 2-2 review as 404 errors.

**Resolution:** Created project detail page during review.

**Lesson:** **Verify link targets exist before building components that link to them.**

### 3. Created-But-Not-Used Components

**Issue:** SectionHeading component was created in Story 2-2 but not imported into the projects page initially.

**Resolution:** Fixed during review.

**Lesson:** **After creating a component, verify it's actually imported and used where intended.**

### 4. Test File Location Confusion

**Issue:** Tests placed in `src/pages/` were treated as Astro pages during build.

**Resolution:** Relocated page tests to `test/pages/` directory, updated vitest config.

**Lesson:** **Page tests go in `test/pages/`, not `src/pages/`.**

### 5. Security Pattern Violation

**Issue:** Story 2-1 used inline `onclick` handler which violates project security standards.

**Resolution:** Refactored to use `<script>` with event delegation via `data-*` attributes.

**Lesson:** **Never use inline event handlers - always use event delegation pattern.**

---

## Action Items

### Process Improvements

| # | Action Item | Owner | Success Criteria |
|---|-------------|-------|------------------|
| 1 | **Update tracking files automatically after workflow completion** | All Agents | User never has to remind team to update status |
| 2 | **Add link validation to story creation** - verify `href` targets resolve to real pages | PM/Dev | No 404s discovered in review |
| 3 | **Verify component imports after creation** - confirm new components are used where intended | Dev | No "created but not imported" issues |

### Team Agreements

- Status updates are part of Definition of Done, not optional
- When creating components with links, verify target pages exist
- Page tests go in `test/pages/`, not `src/pages/`
- Never use inline event handlers - use event delegation

---

## Epic 1 â†’ Epic 2 Continuity

### Action Items Follow-Through: 4/4 (100%)

All action items from Epic 1 retrospective were successfully applied in Epic 2, resulting in:
- Zero color contrast issues (vs 3 in Epic 1)
- No touch target size issues (vs 1 in Epic 1)
- Consistent reduced motion handling in all tests

---

## Impact on Epic 3

### No Blockers Identified

The foundation from Epics 1 and 2 is solid for Epic 3 (Professional Credentials):

**Ready to Use:**
- Design system tokens (colors, typography, spacing)
- BaseLayout, SEO, Navigation, Footer components
- SectionHeading component (created in Epic 2)
- Card hover/focus patterns (adaptable for credential cards)
- Content collection patterns
- Test infrastructure (vitest, playwright, axe-core)

### Things to Watch

1. **Education/Certification card design** - May need new card variant or adapt existing
2. **Badge/icon system** - Competition honors need visual badges (gold/silver/bronze)
3. **Timeline layouts** - Education entries sorted by year may need timeline component

### Recommended Improvements for Epic 3

1. **Validate all links before story completion** - Apply lesson from Epic 2
2. **Update status files immediately** - Apply lesson from Epic 2
3. **Create components in context** - Build and integrate in same task, not separately

---

## Retrospective Participants

- **Facilitator:** Bob (Scrum Master Agent)
- **Product Owner:** Cris Benge
- **Agent Model:** Claude Opus 4.5 (claude-opus-4-5-20251101)

---

## Next Steps

1. **Review this retrospective** - `_bmad-output/implementation-artifacts/epic-2-retro-2026-01-04.md`
2. **Start Epic 3** - Run `/bmad:bmm:workflows:create-story` to create Story 3-1
3. **Apply action items** - Especially automatic status updates after each workflow
